{% extends "base.html" %}

{% block title %}首页{% endblock %}

{% block outer_css %}
<link
	rel="stylesheet"
	href="{{ url_for('static', filename='css/style.css') }}"
/>
<link
	href="https://cdn.bootcss.com/bootstrap-select/1.13.10/css/bootstrap-select.min.css"
	rel="stylesheet"
/>
{% endblock %}

{% block outer_script %}
<script src="https://cdn.bootcss.com/bootstrap-select/1.13.10/js/bootstrap-select.min.js"></script>
{% endblock %}

{% block inner_css %}
<style>
	aside {
		background-color: #f7f9fc;
		min-height: calc(100vh - 81px);
	}

	aside > div {
		padding: 40px 20px 20px 30px;
	}

	aside > div > div {
		margin-top: 5px;
	}

	#search-button {
		margin-top: 30px;
		border-color: #007bff;
	}

	main > div {
		padding: 50px 70px 30px 50px;
	}

	div.card-body .row > div:nth-child(odd) {
		text-align: right;
		font-weight: bold;
	}

	div.card-body .row > div:nth-child(even) {
		text-align: left;
	}
</style>
{% endblock %}

{% block inner_script %}
<script>
	$(document).ready(() => {
		$.get("/?page=1", (data, status) => {
			let toAddHtml = "";
			for (let item of data)
				toAddHtml +=
					`<div class="card">
						<img
							class="card-img-top"
							src="/static/images/test-picture.jpg"
							alt="Card image cap"
						/>
						<div class="card-body text-center">
							<h2 class="card-title"><a href="#" class="text-success">${item["事件名"]}</a></h2>
							<div class="card-text">
								<div class="row no-gutters">
									<div class="col-6">时间：</div>
									<div class="col-6">${item["时间"]}</div>
									<div class="col-6">出事地点：</div>
									<div class="col-6">${item["出事地点"]}</div>
									<div class="col-6">航班号：</div>
									<div class="col-6">${item["航班号"]}</div>
									<div class="col-6">客机型号：</div>
									<div class="col-6">${item["客机型号"]}</div>
									<div class="col-6">航空公司：</div>
									<div class="col-6">${item["航空公司"]}</div>
								</div>
							</div>
						</div>
					</div>`
			$("main>div").html(toAddHtml);
		})
	})
</script>
{% endblock %}

{% block main_content %}
	{% include "navbar.html" %}
	<div class="row">
		<aside class="col-3">
			<div>
				<input type="search" class="form-control" placeholder="search..." />
				<select
					class="selectpicker show-tick form-control"
					data-live-search="true"
					title="选择查询依据"
				>
					<option>事故原因</option>
					<option>时间</option>
					<option>地点</option>
				</select>
				<button type="button" class="btn btn-block" id="search-button">
					查询
				</button>
			</div>
		</aside>
		<main class="col">
			<div class="card-columns"></div>
		</main>
	</div>
{% endblock %}
